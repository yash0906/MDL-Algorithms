import random
import json
import requests
import numpy as np
import time
def create_individual():
	x = []
	for i in range(11):
		x.append(round(random.uniform(-10,10),17))
	return x
f = open('data12.txt','w') 
gbl = []
API_ENDPOINT = 'http://10.4.21.147'
PORT = 3000
MAX_DEG = 11

#### functions that you can call
def get_errors(id, vector):
    """
    returns python array of length 2 
    (train error and validation error)
    """
    for i in vector: assert -10<=abs(i)<=10
    assert len(vector) == MAX_DEG

    return json.loads(send_request(id, vector, 'geterrors'))

def submit(id, vector):
    """
    used to make official submission of your weight vector
    returns string "successfully submitted" if properly submitted.
    """
    for i in vector: assert -10<=abs(i)<=10
    assert len(vector) == MAX_DEG
    return send_request(id, vector, 'submit')

#### utility functions
def urljoin(root, port, path=''):
    root = root + ':' + str(port)
    if path: root = '/'.join([root.rstrip('/'), path.rstrip('/')])
    return root

def send_request(id, vector, path):
    api = urljoin(API_ENDPOINT, PORT, path)
    vector = json.dumps(vector)
    response = requests.post(api, data={'id':id, 'vector':vector}).text
    if "reported" in response:
        print(response)
        exit()

    return response


class Individual(object):

	def __init__(self,chromo):
		self.chromo = chromo
		self.fitness = self.calc_fitness()
		self.fit_diff = abs(self.fitness[0] - self.fitness[1])
		self.fit_sum = self.fitness[0] + self.fitness[1]

	def calc_fitness(self):
		# err = get_errors('3a1bPcaPVlB2IaaIobK7p1oDI8GTMwxcXET6VNPD3Rv5UAeaOp', self.chromo)
		# err = get_errors('3a1bPcaPVlB2IaaIobK7p1oDI8GTMwxcXET6VNPD3Rv5UAeaOp', self.chromo)
		# err = get_errors('UNmhf3Kv18sOotABqtxAA5wNtrF7ov2Hl4mRkWjgM0o2OfEw71',self.chromo)
		# err = get_errors('XFGOnLuRTtxEjaw7e10RYNKMyUqnsGOhLR1cmS2m922OW3MIdN',self.chromo)  
		err = get_errors('tyy4CKuGG1DAF7fPsSaX3rICKI3It7Nx8CFtvLyXwOpxSDFu0D',self.chromo)
		# err = get_errors('EdQPhzkQ1CnpQ9jxCY4AH8eATTHeZm4IwEs2P1jE2xT3p8sCeE', self.chromo)
		assert len(err) == 2
		# f.write(str(self.chromo))
		# f.write(str(err))
		# f.write(str(err[0]+err[1]))
		if (err[0]+err[1]) < 10**6 + 200000 or abs(err[0]-err[1])<5000:
			f.write(str(self.chromo))
			f.write(str(err)) 
		# print(self.chromo)
		# print(err)
		# print(abs(err[0]-err[1]))
		# print("\033[93m" + "Total: " + str(err[0]+err[1]) + "\033[00m")
		# time.sleep(0.5)
		return err

	def mate(self,param):
		child_chromo = []
		k = random.randint(1,5)
		for i in range(0,k):
			child_chromo.append(self.chromo[i])
		p = random.randint(k+1,10)
		for i in range(k,p):
			child_chromo.append(param.chromo[i])
		for i in range(p,11):
			child_chromo.append(self.chromo[i])
		# for i in range(11):
		# 	prob = random.random()
		# 	if prob<0.5:
		# 		child_chromo.append(self.chromo[i])
		# 	else:
		# 		child_chromo.append(param.chromo[i])
		for i in range(3):
			k = random.randint(1,11)
			g = child_chromo[k-1]
			if g>0:
				child_chromo[k-1] = (random.uniform(g-g/30,min(10,g+g/30)))
			else:
				child_chromo[k-1] = (random.uniform(max(-10,g/30+g),g-g/30))  
		# for i in range(11):
		# 	prob  = random.random()
		# 	if prob<0.2:
		# 		# bit = random.randint(0,10)
		# 		# g = child_chromo[i]
		# 		child_chromo[i]-=10**-12
		# 		# if g>0:
		# 		# 	child_chromo[i] = (random.uniform(g-g/100,min(10,g+g/100)))
		# 		# else:
		# 		# 	child_chromo[i] = (random.uniform(max(-10,g/100+g),g-g/100))
		return Individual(child_chromo)
		# for g1,g2 in zip(self.chromo,param.chromo):
		# 	prob = random.random()

		# 	if prob < 0.42:
		# 		child_chromo.append(g1)
		# 	elif prob < .85:
		# 		child_chromo.append(g2)
		# 	else:
		# 		# child_chromo.append((g1+g2)/2)
		# 		prob = random.random()
		# 		if prob<0.5:
		# 			if g1>0:
		# 				child_chromo.append(random.uniform(g1-g1/30,min(10,g1+g1/30)))
		# 			else:
		# 				child_chromo.append(random.uniform(max(-10,g1/30+g1),g1-g1/30))
		# 		else:
		# 			if g2>0:
		# 				child_chromo.append(random.uniform(g2-g2/30,min(10,g2+g2/30)))
		# 			else:
		# 				child_chromo.append(random.uniform(max(-10,g2/30+g2),g2-g2/30))
		# 			# child_chromo.append(g2+10**-14)
		# return Individual(child_chromo)


overfit = [0.0, 0.1240317450077846, -6.211941063144333, 0.04933903144709126, 0.03810848157715883, 8.132366097133624e-05, -6.018769160916912e-05, -1.251585565299179e-07, 3.484096383229681e-08, 4.1614924993407104e-11, -6.732420176902565e-12]
# for i in range(population_size):
# 	pop = []
# 	for j in overfit:
# 		prob = random.random()
# 		if prob < 0.33:
# 			pop.append(j+10**-12)
# 		elif prob < 0.66:
# 			pop.append(j-10**-12)
# 		else:
# 			pop.append(j)
	# population.append(Individual(pop))
# qwe = [[-9.3016e-13, 0.1240317450085504, -6.211941063144903, 0.04933903144609126, 0.03810848157659541, 8.132366197134e-05, -6.018769067655e-05, -1.2515864173e-07, 3.48417768e-08, 4.161492e-11, -6.72785e-12],[-9.3016e-13, 0.12403174500833515, -6.211941063143897, 0.04933903144609126, 0.03810848157615883, 8.132366197134e-05, -6.018769067655e-05, -1.2515955653e-07, 3.484180435e-08, 4.161492e-11, -6.73178e-12],[-9.3016e-13, 0.1240317450085504, -6.211941063143897, 0.04933903144609126, 0.03810848157659541, 8.132366197134e-05, -6.018769065418e-05, -1.2515955653e-07, 3.484182972e-08, 4.161492e-11, -6.72415e-12],[-9.3016e-13, 0.1240317450085504, -6.211941063144903, 0.04933903144609211, 0.03810848157659541, 8.132366197134e-05, -6.01876906505e-05, -1.2515865042e-07, 3.484183161e-08, 4.161492e-11, -6.72643e-12],[-9.3016e-13, 0.1240317450085504, -6.211941063143897, 0.04933903144609126, 0.03810848157639738, 8.132366197134e-05, -6.018769067655e-05, -1.251595565299179e-07, 3.484169732e-08, 4.161492e-11, -6.72643e-12],[-9.3854e-13, 0.1240317450085504, -6.211941063143897, 0.04933903144610944, 0.03810848157639738, 8.132366197134e-05, -6.018769067655e-05, -1.2515955653e-07, 3.484183161e-08, 4.161492e-11, -6.72415e-12],[-9.3016e-13, 0.1240317450085504, -6.211941063144903, 0.04933903144609126, 0.03810848157659541, 8.132366197134e-05, -6.01876906505e-05, -1.2515955653e-07, 3.484182972e-08, 4.161492e-11, -6.72415e-12],[-1e-12, 0.12403174500833515, -6.211941063144903, 0.04933903144609166, 0.03810848157659541, 8.132366197134e-05, -6.018769067655e-05, -1.2515865042e-07, 3.4841738e-08, 4.161492e-11, -6.72643e-12],[-9.3016e-13, 0.1240317450085504, -6.211941063143897, 0.04933903144609211, 0.03810848157659541, 8.132366197134e-05, -6.018769067626e-05, -1.2515955653e-07, 3.484182972e-08, 4.161492e-11, -6.72643e-12],[-9.497e-13, 0.1240317450085504, -6.211941063143897, 0.04933903144609126, 0.03810848157615883, 8.132366197134e-05, -6.018769067526e-05, -1.251595565299179e-07, 3.484183161e-08, 4.161492e-11, -6.72953e-12],[-1e-12, 0.12403174500833515, -6.211941063143897, 0.04933903144609126, 0.03810848157653792, 8.132366197134e-05, -6.018769067655e-05, -1.251595565299179e-07, 3.484180435e-08, 4.1614924993407104e-11, -6.72953e-12],[-9.3016e-13, 0.12403174500833515, -6.211941063143897, 0.04933903144609126, 0.03810848157615883, 8.132366197134e-05, -6.018769067655e-05, -1.2515955653e-07, 3.484180435e-08, 4.1614924993407104e-11, -6.73178e-12],[-1e-12, 0.12403174500833515, -6.211941063144903, 0.04933903144609126, 0.03810848157659541, 8.132366197134e-05, -6.018769067655e-05, -1.2515865042e-07, 3.48417768e-08, 4.1614924993407104e-11, -6.73178e-12],[-9.4331e-13, 0.12403174500833515, -6.211941063144903, 0.04933903144609126, 0.03810848157646623, 8.132366197134e-05, -6.018769067655e-05, -1.251595565299179e-07, 3.484169732e-08, 4.161492e-11, -6.72648e-12],[-9.3016e-13, 0.1240317450085504, -6.211941063144903, 0.04933903144609126, 0.03810848157659541, 8.132366197134e-05, -6.018769067655e-05, -1.251595565299179e-07, 3.484177312e-08, 4.161492e-11, -6.72828e-12],[-9.3016e-13, 0.1240317450085504, -6.211941063143897, 0.04933903144609171, 0.03810848157659541, 8.132366197134e-05, -6.018769067655e-05, -1.2515874188e-07, 3.484183161e-08, 4.161492e-11, -6.72902e-12],[-9.5863e-13, 0.1240317450085504, -6.211941063144387, 0.04933903144609211, 0.03810848157659541, 8.132366197134e-05, -6.018769067655e-05, -1.2515955653e-07, 3.484182972e-08, 4.161492e-11, -6.72643e-12],[-1e-12, 0.12403174500834069, -6.211941063144903, 0.04933903144609126, 0.03810848157720676, 8.132366197134e-05, -6.018769067655e-05, -1.251595565299179e-07, 3.484180435e-08, 4.1614924993407104e-11, -6.72643e-12]]
# asd = [[-9.1016e-13, 0.12403174500837517, -6.211941063143867, 0.04933903144611126, 0.038108481576486226, 8.132366198134e-05, -6.0187690656549995e-05, -1.2515954653e-07, 3.484186161000001e-08, 4.164492000000001e-11, -6.70415e-12],[-9.2016e-13, 0.12403174500860042, -6.211941063144874, 0.049339031446121256, 0.038108481576645405, 8.132366199134001e-05, -6.0187690656549995e-05, -1.2515952652999997e-07, 3.484186161000001e-08, 4.164492000000001e-11, -6.696429999999999e-12],[-8.901600000000001e-13, 0.12403174500858041, -6.211941063143887, 0.049339031446151704, 0.038108481576635406, 8.132366199134001e-05, -6.018769063049999e-05, -1.2515951652991785e-07, 3.4841851610000006e-08, 4.1634920000000006e-11, -6.696429999999999e-12],[-9.2016e-13, 0.1240317450085604, -6.211941063144893, 0.04933903144612944, 0.03810848157653792, 8.132366199134001e-05, -6.018769063049999e-05, -1.2515951652991785e-07, 3.4841849720000005e-08, 4.1634920000000006e-11, -6.70415e-12],[-9.8e-13, 0.12403174500837517, -6.211941063143877, 0.049339031446121256, 0.03810848157653792, 8.132366198134e-05, -6.0187690640499995e-05, -1.2515952652999997e-07, 3.4841851610000006e-08, 4.1634920000000006e-11, -6.70415e-12],[-9.2016e-13, 0.12403174500837517, -6.211941063143867, 0.04933903144612171, 0.03810848157642738, 8.132366199134001e-05, -6.018769064654999e-05, -1.2515954653e-07, 3.484185972000001e-08, 4.1624920000000004e-11, -6.706429999999999e-12],[-9.2016e-13, 0.12403174500859042, -6.211941063143877, 0.04933903144610126, 0.03810848157615883, 8.132366199134001e-05, -6.018769066655e-05, -1.2515951652991785e-07, 3.484186161000001e-08, 4.164492000000001e-11, -6.706429999999999e-12],[-9.001600000000001e-13, 0.12403174500858041, -6.211941063143867, 0.04933903144611126, 0.03810848157653792, 8.132366199134001e-05, -6.0187690640499995e-05, -1.2515954653e-07, 3.4841851610000006e-08, 4.164492000000001e-11, -6.70415e-12],[-9.2863e-13, 0.12403174500834516, -6.211941063143867, 0.049339031446131706, 0.038108481576178826, 8.132366201134001e-05, -6.018769062049999e-05, -1.2515955653e-07, 3.4841851610000006e-08, 4.1634920000000006e-11, -6.70415e-12],[-9.3016e-13, 0.12403174500860042, -6.211941063144893, 0.04933903144612944, 0.03810848157616883, 8.132366201134001e-05, -6.0187690656549995e-05, -1.2515952652991786e-07, 3.4841881610000015e-08, 4.1624920000000004e-11, -6.706429999999999e-12],[-9.3016e-13, 0.12403174500859042, -6.211941063143887, 0.04933903144611944, 0.03810848157615883, 8.132366198134e-05, -6.018769066655e-05, -1.2515952652991786e-07, 3.4841851610000006e-08, 4.1624920000000004e-11, -6.706429999999999e-12],[-9.2016e-13, 0.12403174500837517, -6.211941063143877, 0.04933903144611126, 0.03810848157653792, 8.132366198134e-05, -6.0187690640499995e-05, -1.2515953652999998e-07, 3.4841851610000006e-08, 4.1634920000000006e-11, -6.70415e-12],[-9.1016e-13, 0.12403174500858041, -6.2119410631448835, 0.049339031446151704, 0.03810848157616883, 8.132366200134001e-05, -6.0187690656549995e-05, -1.2515954653e-07, 3.484187161000001e-08, 4.1634920000000006e-11, -6.706429999999999e-12],[-9.1016e-13, 0.12403174500858041, -6.211941063144874, 0.049339031446141705, 0.038108481576178826, 8.132366198134e-05, -6.018769063049999e-05, -1.2515953652991787e-07, 3.4841851610000006e-08, 4.1634920000000006e-11, -6.706429999999999e-12],[-9.1016e-13, 0.1240317450085604, -6.211941063143867, 0.04933903144611126, 0.03810848157641738, 8.132366198134e-05, -6.018769064654999e-05, -1.2515952652991786e-07, 3.4841849720000005e-08, 4.1634920000000006e-11, -6.706429999999999e-12],[-9.3863e-13, 0.12403174500834516, -6.211941063143877, 0.04933903144612171, 0.03810848157616883, 8.132366200134001e-05, -6.018769064654999e-05, -1.2515953652991787e-07, 3.4841851610000006e-08, 4.1634920000000006e-11, -6.70415e-12],[-9.2016e-13, 0.1240317450085604, -6.211941063143897, 0.04933903144610126, 0.03810848157615883, 8.132366198134e-05, -6.018769066655e-05, -1.251595565299179e-07, 3.484182972e-08, 4.1624920000000004e-11, -6.706429999999999e-12],[-9.2016e-13, 0.12403174500835516, -6.211941063143887, 0.04933903144611944, 0.03810848157661541, 8.132366199134001e-05, -6.018769066655e-05, -1.2515954652991788e-07, 3.4841707320000006e-08, 4.1624920000000004e-11, -6.7095299999999996e-12],[-9.3016e-13, 0.1240317450085604, -6.211941063144893, 0.04933903144610171, 0.03810848157660541, 8.132366198134e-05, -6.01876906505e-05, -1.2515955653e-07, 3.4841851610000006e-08, 4.1624920000000004e-11, -6.706429999999999e-12],[-9.2016e-13, 0.1240317450085604, -6.211941063144893, 0.04933903144611944, 0.03810848157653792, 8.132366199134001e-05, -6.0187690640499995e-05, -1.2515955653e-07, 3.484183161e-08, 4.1624920000000004e-11, -6.70415e-12]]

# zxc = [[-1.0566660439395875e-12, 0.134237185607786, -6.211941063144893, 0.04933903144612944, 0.03810848157653792, 8.132366199134001e-05, -6.0187690640499995e-05, -1.2720520719014944e-07, 3.484185972000001e-08, 4.1624920000000004e-11, -6.70415e-12],[-1.110018998522793e-12, 0.134237185607786, -6.211941063144893, 0.04933903144612944, 0.03810848157653792, 8.132366199134001e-05, -6.0187690640499995e-05, -1.2720520719014944e-07, 3.484185972000001e-08, 4.1624920000000004e-11, -6.70415e-12],[-1.0566660439395875e-12, 0.134237185607786, -6.211941063144893, 0.04933903144612944, 0.03810848157653792, 8.132366199134001e-05, -6.0187690640499995e-05, -1.2720520719014944e-07, 3.484185972000001e-08, 4.1624920000000004e-11, -6.70415e-12],[-9.631158341232927e-13, 0.134237185607786, -6.211941063144893, 0.04933903144611944, 0.03926377971436052, 7.968833239057283e-05, -6.0187690640499995e-05, -1.2798023879886888e-07, 3.484185972000001e-08, 4.1624920000000004e-11, -6.70415e-12]]
# ert = [[-1.2258576431841576e-12, 0.18432401538026033, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2258576431841576e-12, 0.18432401538026033, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.3219022324924181e-12, 0.22230720993240732, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.224525612536223e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.3219022324924181e-12, 0.18432401538026033, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2967947284086032e-12, 0.2041579195360193, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2717274051841356e-12, 0.2041579195360193, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2258576431841576e-12, 0.18432401538026033, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.3219022324924181e-12, 0.14757511208464902, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2717274051841356e-12, 0.2041579195360193, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2717274051841356e-12, 0.18113367424504134, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.3219022324924181e-12, 0.1557691318627141, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2717274051841356e-12, 0.2041579195360193, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2258576431841576e-12, 0.16440963165342243, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2258576431841576e-12, 0.18432401538026033, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.1884041881092689e-12, 0.16440963165342243, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2717274051841356e-12, 0.14690841769531038, -6.264826223641926, 0.06375036516658925, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.3001721225622948e-12, 0.16440963165342243, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2258576431841576e-12, 0.18432401538026033, -6.264826223641926, 0.06463540174010828, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.3630788494289104e-12, 0.16440963165342243, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12],[-1.2258576431841576e-12, 0.14757511208464902, -6.264826223641926, 0.06333337634210713, 0.03810848157653792, 9.273503063172261e-05, -6.018769066655e-05, -1.2515953652991787e-07, 3.484183161e-08, 3.656843380236075e-11, -6.70415e-12]]
# print(len(ert))
# print(len(qwe))
# quit()
overfit = [0.0, 0.1240317450077846, -6.211941063144333, 0.04933903144709126, 0.03810848157715883, 8.132366097133624e-05, -6.018769160916912e-05, -1.251585565299179e-07, 3.484096383229681e-08, 4.1614924993407104e-11, -6.732420176902565e-12]
arr = [[0.0, 0.1264795618911298, -6.446467789609297, 0.05416873076673235, 0.03844843039136505, 8.446046784391922e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.12612822760368578, -6.446467789609297, 0.05416873076673235, 0.03844843039136505, 8.446046784391922e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.12559801743342064, -6.430027156230421, 0.05420188252151272, 0.03844843039136505, 8.415792510364831e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.1264795618911298, -6.421262293009345, 0.05416873076673235, 0.03844843039136505, 8.446046784391922e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.12612822760368578, -6.471445987842753, 0.05416873076673235, 0.03844843039136505, 8.446046784391922e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.12559801743342064, -6.446467789609297, 0.05416873076673235, 0.03844843039136505, 8.467215462168631e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.12616035228732908, -6.430027156230421, 0.053705927708615354, 0.03844843039136505, 8.446046784391922e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.12559801743342064, -6.484079666699487, 0.05416873076673235, 0.03844843039136505, 8.446046784391922e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.867289907666504e-11, -6.6387499060899005e-12],
[0.0, 0.12559801743342064, -6.430027156230421, 0.05420188252151272, 0.03849586814933248, 8.415792510364831e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.1264795618911298, -6.446467789609297, 0.05416873076673235, 0.03844843039136505, 8.415792510364831e-05, -5.999388040307434e-05, -1.2486424474018939e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.1264795618911298, -6.484079666699487, 0.05416873076673235, 0.03844843039136505, 8.446046784391922e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.60158921921083e-12],
[0.0, 0.1264795618911298, -6.446467789609297, 0.05416873076673235, 0.03844843039136505, 8.446046784391922e-05, -5.999388040307434e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.586592639835782e-12],
[0.0, 0.12616035228732908, -6.430027156230421, 0.053705927708615354, 0.03844843039136505, 8.477365840582838e-05, -5.971974601584964e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12],
[0.0, 0.12616035228732908, -6.430027156230421, 0.0547567719409559, 0.03844843039136505, 8.410997007267534e-05, -6.0477936308488645e-05, -1.243960488864828e-07, 3.455586485848311e-08, 3.87533631638698e-11, -6.638115645437453e-12],
[0.0, 0.12559801743342064, -6.430027156230421, 0.05420188252151272, 0.03844843039136505, 8.415792510364831e-05, -6.050203748447249e-05, -1.2415653359793733e-07, 3.455586485848311e-08, 3.8953734489501946e-11, -6.6387499060899005e-12]]
population = []
arr = [[0.0, 0.14428304720247861, -6.656775498930148, 0.06590258630359513, 0.03844843039136505, 8.218516953414417e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.78783843561829e-11, -6.627664932258919e-12],
[0.0, 0.14428304720247861, -6.639458297870355, 0.06590258630359513, 0.03844843039136505, 8.197431346474995e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.78783843561829e-11, -6.627664932258919e-12],
[0.0, 0.14428304720247861, -6.656775498930148, 0.06590258630359513, 0.03844843039136505, 8.197431346474995e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.14428304720247861, -6.656775498930148, 0.06590258630359513, 0.03844843039136505, 8.197431346474995e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.14428304720247861, -6.639458297870355, 0.0659127603279358, 0.03844843039136505, 8.197431346474995e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.1440272543510016, -6.639458297870355, 0.06590258630359513, 0.03844843039136505, 8.206404711666514e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.1440272543510016, -6.639458297870355, 0.06590258630359513, 0.03844843039136505, 8.231712110020437e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.14428304720247861, -6.570707127182899, 0.06590258630359513, 0.03844843039136505, 8.197431346474995e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.14428304720247861, -6.656775498930148, 0.06590258630359513, 0.03844843039136505, 8.331655208926607e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.14428304720247861, -6.639458297870355, 0.06590258630359513, 0.03844843039136505, 8.043965566916326e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.1440272543510016, -6.639458297870355, 0.06590258630359513, 0.03844843039136505, 8.197431346474995e-05, -5.999388040307434e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.605915606136456e-12],
[0.0, 0.1440272543510016, -6.639458297870355, 0.06590258630359513, 0.03844843039136505, 8.197431346474995e-05, -5.9619421057524316e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.1440272543510016, -6.639458297870355, 0.06590258630359513, 0.03844843039136505, 8.197431346474995e-05, -5.9586710551817486e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.14428304720247861, -6.639458297870355, 0.06590258630359513, 0.03844843039136505, 8.197431346474995e-05, -6.045877671674691e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12],
[0.0, 0.1440272543510016, -6.639458297870355, 0.06590258630359513, 0.03844843039136505, 8.197431346474995e-05, -5.900509205617401e-05, -1.2344573250595505e-07, 3.455586485848311e-08, 3.792763551759807e-11, -6.627664932258919e-12]]
for i in range(15):
	arr = []
	for j in range(11):
		g = overfit[j]
		if g>0:
			arr.append(random.uniform(g-g/50,min(10,g+g/50)))
		else:
			arr.append(random.uniform(max(-10,g/50+g),g-g/50))
	population.append(Individual(arr))
# for i in arr:
# 	population.append(Individual(i))
population_size = len(population)

print('population',population_size)

generation = 1
while True:
	# if generation%120==0:
	# 	break
	print("Generation: ",generation)
	generation+=1
	population = sorted(population, key = lambda x:(x.fit_sum))
	for i in population:
		
		print(i.chromo)
		print("\033[92m" + str(i.fitness) + "\033[00m")
		print("\033[93m" + str(i.fit_sum) + "\033[00m")
		print("\033[91m" + str(i.fit_diff) + "\033[00m")
		# if i.fit_sum<1200000 or i.fit_diff<5000:
		# 	submit_status = submit('3a1bPcaPVlB2IaaIobK7p1oDI8GTMwxcXET6VNPD3Rv5UAeaOp', i.chromo)
		# 	assert "submitted" in submit_status
		# 	print(submit_status)
		time.sleep(.5)
	new_generation = []
	s = int((20*population_size)/100)
	new_generation.extend(population[:s])

	s = int((80*population_size)/100)
	for _ in range(s):
		parent1 = random.choice(population[:int(population_size/2)]) 
		parent2 = random.choice(population[:int(population_size/2)]) 
		child = parent1.mate(parent2) 
		new_generation.append(child) 

	population = new_generation 
[0.0, 0.1322844934707308, -6.82988494215703, 0.057864246787407876, 0.03847482784207906, 8.319415505332764e-05, -6.03508334911038e-05, -1.2655374516147562e-07, 3.507546141152636e-08, 3.9575200875502994e-11, -6.781139886749311e-12]
[874263.3886217969, 647245.4053593415]
1521508.7939811384
227017.98326245532
[0.0, 0.12362080664351126, -6.600544831452149, 0.05794665880015333, 0.03847482784207906, 8.319415505332764e-05, -6.03508334911038e-05, -1.2784060104746206e-07, 3.507546141152636e-08, 4.019995569182463e-11, -6.792770923610224e-12]
[821517.7774684579, 726327.5501828921]
1547845.32765135
95190.22728556581
[0.0, 0.13463211667689615, -6.849929208115021, 0.05794665880015333, 0.03847482784207906, 8.077018362848025e-05, -6.03508334911038e-05, -1.2644252523256424e-07, 3.507546141152636e-08, 4.019995569182463e-11, -6.781139886749311e-12]
[765056.750755268, 792832.2827756649]
1557889.0335309329
27775.532020396902
[0.0, 0.1308073906922883, -6.849929208115021, 0.05794665880015333, 0.03847482784207906, 8.319415505332764e-05, -6.03508334911038e-05, -1.2801947573322492e-07, 3.507546141152636e-08, 4.019995569182463e-11, -6.781139886749311e-12]
[880825.5415443784, 691399.2380998789]
1572224.7796442574
189426.3034444995
[0.0, 0.12980832945855966, -6.891605302645112, 0.05641804526382088, 0.03869972572885983, 8.077018362848025e-05, -6.03508334911038e-05, -1.2655374516147562e-07, 3.4947244318085945e-08, 4.06270933429243e-11, -6.756374414858387e-12]
[411868.073989847, 1381440.1112300693]
1793308.1852199163
969572.0372402223
[0.0, 0.13177644614341016, -6.671304231774843, 0.057864246787407876, 0.03847482784207906, 8.319415505332764e-05, -6.03508334911038e-05, -1.2801947573322492e-07, 3.507546141152636e-08, 3.9757558049932744e-11, -6.781139886749311e-12]
[1402104.2146614364, 502984.37431607174]
1905088.5889775082
899119.8403453646
[0.0, 0.1308073906922883, -7.076693244507539, 0.05794665880015333, 0.03847482784207906, 8.45456498310014e-05, -6.03508334911038e-05, -1.260748085303204e-07, 3.507546141152636e-08, 4.019995569182463e-11, -6.781139886749311e-12]
[391861.65087006567, 1624529.566260397]
2016391.2171304626
1232667.9153903313
[0.0, 0.12787995360402243, -6.956517271733356, 0.056131958480586656, 0.03902724565790105, 8.421731822312368e-05, -6.03508334911038e-05, -1.2655374516147562e-07, 3.4947244318085945e-08, 4.06270933429243e-11, -6.781139886749311e-12]
[293243.0896653479, 1837355.5584657278]
2130598.648131076
1544112.46880038
[0.0, 0.13252557381046662, -6.600544831452149, 0.05794665880015333, 0.03847482784207906, 8.319415505332764e-05, -6.03508334911038e-05, -1.2655374516147562e-07, 3.507546141152636e-08, 4.086905996622273e-11, -6.781139886749311e-12]
[934256.7745514807, 1702230.4769037038]
2636487.2514551845
767973.7023522231
[0.0, 0.13177644614341016, -6.972738067120442, 0.05773947587942078, 0.03847482784207906, 8.319415505332764e-05, -6.03508334911038e-05, -1.2801947573322492e-07, 3.507546141152636e-08, 3.947390682729454e-11, -6.550421190107753e-12]
[34172591.15516261, 35958652.94595352]
70131244.10111612
1786061.790790908
[0.0, 0.1322844934707308, -7.089624141769632, 0.05641804526382088, 0.03902724565790105, 8.110570824782145e-05, -6.03508334911038e-05, -1.2686543355739503e-07, 3.547156411327669e-08, 3.8901127133540064e-11, -6.781139886749311e-12]
[35146778.86656045, 35489141.38059988]
70635920.24716033
342362.51403942704
[0.0, 0.12362080664351126, -6.600544831452149, 0.05794665880015333, 0.038986467116865466, 8.319415505332764e-05, -6.03508334911038e-05, -1.2561994226339618e-07, 3.420122821891014e-08, 4.019995569182463e-11, -6.792770923610224e-12]
[61053706.42521051, 104090960.27533175]
165144666.70054227
43037253.85012124
[0.0, 0.12299269693006581, -7.089624141769632, 0.05641804526382088, 0.03902724565790105, 8.319415505332764e-05, -6.03508334911038e-05, -1.2686543355739503e-07, 3.387431514415505e-08, 4.06270933429243e-11, -6.792770923610224e-12]
[141567429.26575145, 223816849.58366767]
365384278.8494191
82249420.31791621
[0.0, 0.12787995360402243, -6.964633266639301, 0.05898571248606639, 0.03847482784207906, 8.319415505332764e-05, -6.11929376035433e-05, -1.2801947573322492e-07, 3.43109325127749e-08, 3.947390682729454e-11, -6.781139886749311e-12]
[157172929.09199068, 240092204.71153575]
397265133.8035264
82919275.61954507
[0.0, 0.1308073906922883, -6.849929208115021, 0.057864246787407876, 0.03847482784207906, 8.077018362848025e-05, -6.381587236396433e-05, -1.238683724556278e-07, 3.4947244318085945e-08, 4.06270933429243e-11, -6.781139886749311e-12]
[346935937.42592806, 521750039.9384591]
868685977.3643872
174814102.51253104

